<!-- realtime-gauge-widget.component.html -->
<div class="widget-container" [class.has-background]="state().hasBackground">
  @if (state().active) {
  <!-- Active mode: Show live gauge -->
  @if (state().showLabel && state().label) {
  <div class="widget-label">
    <span
      libResponsiveText
      [minFontSize]="8"
      [maxFontSize]="42"
      [lineHeight]="1"
    >
      {{ state().label }}
    </span>
  </div>
  }
  <div class="gauge-container">
    <ngx-radial-gauge
      [value]="gaugeValue()"
      [min]="0"
      [max]="100"
      [fitToContainer]="true"
      [responsiveMode]="true"
      [segments]="segments()"
      [outerThickness]="24"
      [innerThickness]="8"
      [gap]="4"
      [segmentGapPx]="2"
      [labelReference]="'00000'"
      [referenceGlyph]="'0'"
      [hasBackground]="state().hasBackground || false"
      [showValueLabel]="state().showValueLabel ?? true"
    />
  </div>
  } @else {
  <!-- Passive mode: Show static icon -->
  <div class="icon-container">
    <div class="svg-placeholder" [innerHTML]="safeSvgIcon"></div>
  </div>
  }
</div>
