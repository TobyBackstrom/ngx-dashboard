<div class="gauge-demo-container">
  <h1>Radial Gauge Component Demo</h1>

  <div class="demo-layout">
    <!-- Controls Panel -->
    <mat-card class="controls-panel">
      <mat-card-header>
        <mat-card-title>Gauge Controls</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <!-- Preset Configurations -->
        <div class="section">
          <h3>Preset Configurations</h3>
          <div class="button-grid">
            <button
              mat-raised-button
              [color]="activeConfig() === 'default' ? 'primary' : ''"
              (click)="setDefaultConfig()"
            >
              <mat-icon>speed</mat-icon>
              Default
            </button>
            <button
              mat-raised-button
              [color]="activeConfig() === 'temperature' ? 'primary' : ''"
              (click)="setTemperatureConfig()"
            >
              <mat-icon>thermostat</mat-icon>
              Temperature
            </button>
            <button
              mat-raised-button
              [color]="activeConfig() === 'performance' ? 'primary' : ''"
              (click)="setPerformanceConfig()"
            >
              <mat-icon>analytics</mat-icon>
              Performance
            </button>
            <button
              mat-raised-button
              [color]="activeConfig() === 'battery' ? 'primary' : ''"
              (click)="setBatteryConfig()"
            >
              <mat-icon>battery_std</mat-icon>
              Battery
            </button>
            <button
              mat-raised-button
              [color]="activeConfig() === 'network' ? 'primary' : ''"
              (click)="setNetworkConfig()"
            >
              <mat-icon>signal_cellular_alt</mat-icon>
              Network
            </button>
            <button
              mat-raised-button
              [color]="activeConfig() === 'storage' ? 'primary' : ''"
              (click)="setStorageConfig()"
            >
              <mat-icon>storage</mat-icon>
              Storage
            </button>
          </div>
        </div>

        <!-- Value Controls -->
        <div class="section">
          <h3>Value Settings</h3>

          <div class="control-group">
            <span>Value: {{ value() }}</span>
            <mat-slider [min]="min()" [max]="max()" step="0.1" discrete>
              <input matSliderThumb [(ngModel)]="value" />
            </mat-slider>
            <button
              mat-icon-button
              (click)="randomValue()"
              matTooltip="Random Value"
            >
              <mat-icon>casino</mat-icon>
            </button>
          </div>

          <div class="input-row">
            <mat-form-field>
              <mat-label>Min</mat-label>
              <input matInput type="number" [(ngModel)]="min" />
            </mat-form-field>

            <mat-form-field>
              <mat-label>Max</mat-label>
              <input matInput type="number" [(ngModel)]="max" />
            </mat-form-field>
          </div>
        </div>

        <!-- Size Controls -->
        <div class="section">
          <h3>Dimensions</h3>

          <div class="control-group">
            <span>Size: {{ size() }}px</span>
            <mat-slider min="150" max="500" step="10" discrete>
              <input matSliderThumb [(ngModel)]="size" />
            </mat-slider>
          </div>

          <div class="control-group">
            <span>Outer Thickness: {{ outerThickness() }}px</span>
            <mat-slider min="10" max="60" step="2" discrete>
              <input matSliderThumb [(ngModel)]="outerThickness" />
            </mat-slider>
          </div>

          <div class="control-group">
            <span>Inner Thickness: {{ innerThickness() }}px</span>
            <mat-slider min="4" max="30" step="2" discrete>
              <input matSliderThumb [(ngModel)]="innerThickness" />
            </mat-slider>
          </div>

          <div class="control-group">
            <span>Gap: {{ gap() }}px</span>
            <mat-slider min="0" max="20" step="1" discrete>
              <input matSliderThumb [(ngModel)]="gap" />
            </mat-slider>
          </div>

          <div class="control-group">
            <span>Segment Gap: {{ segmentGapPx() }}px</span>
            <mat-slider min="0" max="10" step="1" discrete>
              <input matSliderThumb [(ngModel)]="segmentGapPx" />
            </mat-slider>
          </div>
        </div>

        <!-- Animation Controls -->
        <div class="section">
          <h3>Animation</h3>

          <div class="button-group">
            <button
              mat-raised-button
              [disabled]="isAnimating()"
              (click)="startAnimation()"
            >
              <mat-icon>play_arrow</mat-icon>
              Start Animation
            </button>
            <button
              mat-raised-button
              [disabled]="!isAnimating()"
              (click)="stopAnimation()"
            >
              <mat-icon>stop</mat-icon>
              Stop Animation
            </button>
          </div>
        </div>

        <!-- Advanced Features Controls -->
        <div class="section">
          <h3>Advanced Features</h3>

          <div class="toggle-group">
            <mat-slide-toggle [(ngModel)]="showValueLabel">
              Show Value Label
            </mat-slide-toggle>
            <mat-slide-toggle [(ngModel)]="hasBackground">
              Has Background
            </mat-slide-toggle>
          </div>

          <div class="input-row">
            <mat-form-field>
              <mat-label>Label Reference</mat-label>
              <input 
                matInput 
                placeholder="e.g., '00000' or leave empty"
                [(ngModel)]="labelReference" />
              <mat-hint>Text/number for width calculation</mat-hint>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Reference Glyph</mat-label>
              <input 
                matInput 
                maxlength="1"
                [(ngModel)]="referenceGlyph" />
              <mat-hint>Single character</mat-hint>
            </mat-form-field>
          </div>

          <div class="control-group">
            <span>Label Padding: {{ labelPadding() }}px</span>
            <mat-slider min="0" max="20" step="1" discrete>
              <input matSliderThumb [(ngModel)]="labelPadding" />
            </mat-slider>
          </div>

          <div class="control-group">
            <span>Baseline Safety: {{ baselineSafety() }}</span>
            <mat-slider min="0.5" max="1" step="0.01" discrete>
              <input matSliderThumb [(ngModel)]="baselineSafety" />
            </mat-slider>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Gauge Display -->
    <mat-card class="gauge-display">
      <mat-card-header>
        <mat-card-title>Gauge Preview</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <!-- Main Gauge -->
        <div class="gauge-wrapper">
          <ngx-radial-gauge
            [value]="value()"
            [min]="min()"
            [max]="max()"
            [size]="size()"
            [outerThickness]="outerThickness()"
            [innerThickness]="innerThickness()"
            [gap]="gap()"
            [segmentGapPx]="segmentGapPx()"
            [segments]="getActiveSegments()"
            [title]="getTitle()"
            [description]="getDescription()"
            [showValueLabel]="showValueLabel()"
            [hasBackground]="hasBackground()"
            [labelReference]="labelReference()"
            [referenceGlyph]="referenceGlyph()"
            [labelPadding]="labelPadding()"
            [baselineSafety]="baselineSafety()"
          />
        </div>

        <!-- Animated Gauge Example -->
        @if (isAnimating()) {
        <div class="section">
          <h3>Animated Gauge</h3>
          <div class="gauge-wrapper">
            <ngx-radial-gauge
              [value]="animatedValue()"
              [min]="min()"
              [max]="max()"
              [size]="250"
              [outerThickness]="30"
              [innerThickness]="10"
              [gap]="6"
              [segments]="getActiveSegments()"
              title="Live Data"
              description="Real-time monitoring"
            />
          </div>
        </div>
        }

        <!-- Responsive Container Demo -->
        <div class="section">
          <h3>Responsive Container Demo</h3>
          <p>
            Drag the resize handles to see the gauge adapt to container size
            changes. The gauge uses <code>fitToContainer=true</code> and
            <code>responsiveMode=true</code> for automatic sizing and
            proportional thickness scaling.
          </p>

          <div class="responsive-demo-container">
            <div class="container-controls">
              <div class="control-group">
                <label for="container-width-slider"
                  >Container Width: {{ containerWidth() }}px</label
                >
                <mat-slider min="50" max="600" step="10" discrete>
                  <input
                    id="container-width-slider"
                    matSliderThumb
                    [(ngModel)]="containerWidth"
                  />
                </mat-slider>
              </div>

              <div class="control-group">
                <label for="container-height-slider"
                  >Container Height: {{ containerHeight() }}px</label
                >
                <mat-slider min="50" max="600" step="10" discrete>
                  <input
                    id="container-height-slider"
                    matSliderThumb
                    [(ngModel)]="containerHeight"
                  />
                </mat-slider>
              </div>

              <div class="control-group">
                <label for="size-thickness-ratio-slider"
                  >Size To Thickness Ratio: {{ sizeToThicknessRatio() }}</label
                >
                <mat-slider min="8" max="50" step="1" discrete>
                  <input
                    id="size-thickness-ratio-slider"
                    matSliderThumb
                    [(ngModel)]="sizeToThicknessRatio"
                  />
                </mat-slider>
              </div>
            </div>

            <div
              class="resizable-container"
              [style.width.px]="containerWidth()"
              [style.height.px]="containerHeight()"
            >
              <div class="container-info">
                <small
                  >{{ containerWidth() }} × {{ containerHeight() }}px
                  container</small
                >
              </div>
              <ngx-radial-gauge
                [value]="value()"
                [min]="min()"
                [max]="max()"
                [fitToContainer]="true"
                [responsiveMode]="true"
                [sizeToThicknessRatio]="sizeToThicknessRatio()"
                [containerPadding]="15"
                [segments]="getActiveSegments()"
                [title]="getTitle() + ' (Responsive)'"
                [description]="getDescription()"
              />
            </div>
          </div>
        </div>

        <!-- Multiple Gauges Example -->
        <div class="section">
          <h3>Dashboard Example</h3>
          <div class="gauge-grid">
            <div class="small-gauge">
              <h4>CPU Usage</h4>
              <ngx-radial-gauge
                [value]="65"
                [min]="0"
                [max]="100"
                [size]="180"
                [outerThickness]="24"
                [innerThickness]="8"
                [gap]="4"
                [segmentGapPx]="2"
                [segments]="performanceSegments()"
                title="CPU Usage"
                description="Percentage"
                [labelReference]="'00000'"
              />
            </div>

            <div class="small-gauge">
              <h4>Memory</h4>
              <ngx-radial-gauge
                [value]="42"
                [min]="0"
                [max]="100"
                [size]="180"
                [outerThickness]="24"
                [innerThickness]="8"
                [gap]="4"
                [segmentGapPx]="2"
                [segments]="performanceSegments()"
                [showValueLabel]="false"
                title="Memory Usage"
                description="Percentage"
              />
            </div>

            <div class="small-gauge">
              <h4>Disk I/O</h4>
              <ngx-radial-gauge
                [value]="88"
                [min]="0"
                [max]="100"
                [size]="180"
                [outerThickness]="24"
                [innerThickness]="8"
                [gap]="4"
                [segmentGapPx]="2"
                [segments]="performanceSegments()"
                title="Disk I/O"
                description="Percentage"
              />
            </div>

            <div class="small-gauge">
              <h4>Network</h4>
              <ngx-radial-gauge
                [value]="3.5"
                [min]="0"
                [max]="5"
                [size]="180"
                [outerThickness]="24"
                [innerThickness]="8"
                [gap]="4"
                [segmentGapPx]="3"
                [segments]="networkSegments()"
                title="Network"
                description="Signal Strength"
              />
            </div>

            <div class="small-gauge">
              <h4>Battery</h4>
              <ngx-radial-gauge
                [value]="72"
                [min]="0"
                [max]="100"
                [size]="180"
                [outerThickness]="24"
                [innerThickness]="8"
                [gap]="4"
                [segmentGapPx]="2"
                [segments]="batterySegments()"
                [hasBackground]="true"
                title="Battery"
                description="Charge Level"
              />
            </div>

            <div class="small-gauge">
              <h4>Temperature</h4>
              <ngx-radial-gauge
                [value]="22"
                [min]="-20"
                [max]="50"
                [size]="180"
                [outerThickness]="24"
                [innerThickness]="8"
                [gap]="4"
                [segmentGapPx]="2"
                [segments]="temperatureSegments()"
                title="Temperature"
                description="Celsius"
              />
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Code Examples -->
  <mat-card class="code-example">
    <mat-card-header>
      <mat-card-title>Usage Examples</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <h4>1. Responsive Container Gauge (Recommended for Dashboards)</h4>
      <pre><code>&lt;!-- Automatically resizes to container, proportional thickness --&gt;
&lt;div class="gauge-container"&gt;
  &lt;ngx-radial-gauge
    [value]="cpuUsage"
    [min]="0"
    [max]="100"
    [fitToContainer]="true"
    [responsiveMode]="true"
    [sizeToThicknessRatio]="12"
    [containerPadding]="15"
    [segments]="performanceSegments"
    title="CPU Usage"
    description="Percentage" /&gt;
&lt;/div&gt;</code></pre>

      <h4>2. Fixed Size Gauge (Traditional)</h4>
      <pre><code>&lt;!-- Exact pixel control over all dimensions --&gt;
&lt;ngx-radial-gauge
  [value]="{{ value() }}"
  [min]="{{ min() }}"
  [max]="{{ max() }}"
  [size]="{{ size() }}"
  [outerThickness]="{{ outerThickness() }}"
  [innerThickness]="{{ innerThickness() }}"
  [gap]="{{ gap() }}"
  [segments]="customSegments"
  title="Temperature"
  description="Celsius" /&gt;</code></pre>

      <h4>3. Scalable Design Gauge</h4>
      <pre><code>&lt;!-- Manual size with automatic thickness scaling --&gt;
&lt;ngx-radial-gauge
  [value]="batteryLevel"
  [size]="userSelectedSize"
  [responsiveMode]="true"
  [sizeToThicknessRatio]="10"
  [segments]="batterySegments"
  title="Battery"
  description="Charge" /&gt;</code></pre>

      <h4>4. Advanced Features (Text Display & Styling)</h4>
      <pre><code>&lt;!-- Fine-tuned text display and visual options --&gt;
&lt;ngx-radial-gauge
  [value]="75"
  [min]="0"
  [max]="100"
  [size]="300"
  [showValueLabel]="false"      &lt;!-- Hide value text --&gt;
  [hasBackground]="true"         &lt;!-- Add background styling --&gt;
  [labelReference]="'00000'"     &lt;!-- Reserve space for 5 digits --&gt;
  [referenceGlyph]="'8'"         &lt;!-- Use '8' for width calculations --&gt;
  [labelPadding]="8"             &lt;!-- Extra inner padding (px) --&gt;
  [baselineSafety]="0.9"         &lt;!-- Text baseline adjustment --&gt;
  [segments]="customSegments"
  title="Advanced Gauge"
  description="All options" /&gt;</code></pre>

      <h4>TypeScript Interface</h4>
      <pre><code>interface RadialGaugeSegment {{ '{' }}
  from: number;
  to: number;
  color: string;
{{ '}' }}

// Example segments
customSegments: RadialGaugeSegment[] = [
  {{ '{' }} from: 0, to: 30, color: 'var(--mat-sys-error)' {{ '}' }},
  {{ '{' }} from: 30, to: 70, color: 'var(--mat-sys-secondary)' {{ '}' }},
  {{ '{' }} from: 70, to: 100, color: 'var(--mat-sys-primary)' {{ '}' }}
];</code></pre>
    </mat-card-content>
  </mat-card>
</div>
